(function(){"use strict";var t={9038:function(t,n,e){var r=e(9242),o=e(3396);const s={class:"container p-4"},i=(0,o._)("h1",{class:"mb-5"},"grandMA2 Fixture Finder",-1),a={class:"row"},u={class:"col-md-3"},l={class:"col-md-9"},c={class:"rounded-2 bg-secondary p-3"};function h(t,n,e,r,h,d){const f=(0,o.up)("FilterPanel"),m=(0,o.up)("Footer"),C=(0,o.up)("Message"),b=(0,o.up)("Fixture");return(0,o.wg)(),(0,o.iD)("div",s,[i,(0,o._)("div",a,[(0,o._)("div",u,[(0,o.Wm)(f,{"channels-count":h.channelsCount,onChangeChCount:d.changeChannelsCount,onChangeAttributes:d.changeAttributes},null,8,["channels-count","onChangeChCount","onChangeAttributes"]),(0,o.Wm)(m)]),(0,o._)("div",l,[(0,o._)("div",c,[(0,o.Wm)(C,{msg:h.message},null,8,["msg"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.fixtures,(t=>((0,o.wg)(),(0,o.j4)(b,{name:t.Name,filename:t.Filename,channels:t.Channels},null,8,["name","filename","channels"])))),256))])])])])}e(7658);var d=e(7139);const f={class:"input-group input-group-lg mb-4"},m={class:"input-group mb-3"},C={class:"input-group-text"},b=["channel"],g=["value"];function p(t,n,e,s,i,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",f,[(0,o._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:n[0]||(n[0]=(...t)=>a.removeChannel&&a.removeChannel(...t))},"-"),(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=t=>i.channelsCount=t),onChange:n[2]||(n[2]=(...t)=>a.checkChannelsCount&&a.checkChannelsCount(...t))},null,544),[[r.nr,i.channelsCount]]),(0,o._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:n[3]||(n[3]=(...t)=>a.addChannel&&a.addChannel(...t))},"+")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.channelsCount,(t=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",m,[(0,o._)("span",C,(0,d.zw)(t),1),(0,o._)("select",{class:"form-select",channel:t,onChange:n[4]||(n[4]=(...t)=>a.changeAttribute&&a.changeAttribute(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.attributes,((t,n)=>((0,o.wg)(),(0,o.iD)("option",{value:n},(0,d.zw)(t),9,g)))),256))],40,b)])])))),256))],64)}var v={name:"FilterPanel",data(){return{channelsCount:0,choosenAttributes:[],attributes:{ANY:"ANY",DIM:"Dimmer",SHUTTER:"Shutter/Strobe",COLORRGB1:"Red",COLORRGB2:"Green",COLORRGB3:"Blue",COLORRGB4:"Amber",COLORRGB5:"White",COLORRGB15:"UV",COLOR1:"Color Wheel",CTO:"CTO",CTB:"CTB",EFFECTMACRO:"Macro",PAN:"Pan","PAN (fine)":"Pan (fine)",TILT:"Tilt","TILT (fine)":"Tilt (fine)",GOBO1:"Gobo1",GOBO1_POS:"Gobo1 <>",GOBO2:"Gobo2",GOBO2_POS:"Gobo2 <>",EFFECTWHEEL:"Effect",EFFECTINDEXROTATE:"Effect <>",FROST:"Frost",ZOOM:"Zoom",FOCUS:"Focus",CONTROLRANGE:"Reset",POSITIONMSPEED:"PT Speed","DIM (fine)":"Dimmer (fine)","DIM (ultra)":"Dimmer (ultra)","PAN (ultra)":"Pan (ultra)","TILT (ultra)":"Tilt (ultra)"}}},methods:{addChannel(){this.channelsCount>=512||(this.channelsCount++,this.$emit("changeChCount",this.channelsCount))},removeChannel(){this.channelsCount<=1||(this.channelsCount--,this.$emit("changeChCount",this.channelsCount))},checkChannelsCount(){(this.channelsCount>512||this.channelsCount<1)&&(this.channelsCount=1),this.$emit("changeChCount",this.channelsCount)},changeAttribute(t){this.choosenAttributes[t.target.getAttribute("channel")]=t.target.value,this.$emit("changeAttributes",this.choosenAttributes)}}},O=e(89);const w=(0,O.Z)(v,[["render",p]]);var F=w;const x={class:"message"};function A(t,n,e,r,s,i){return(0,o.wg)(),(0,o.iD)("div",x,(0,d.zw)(e.msg),1)}var _={name:"Message",props:{msg:String}};const y=(0,O.Z)(_,[["render",A],["__scopeId","data-v-45955bb4"]]);var T=y;const R={class:"fixture mb-2 rounded-2"},D={class:"row"},E=["title"];function k(t,n,e,r,s,i){return(0,o.wg)(),(0,o.iD)("div",R,[(0,o._)("h4",null,(0,d.zw)(e.name)+" ",1),(0,o._)("div",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.channels.sort(((t,n)=>t.Number>n.Number?1:-1)),(t=>((0,o.wg)(),(0,o.iD)("div",{class:"col-md-2 overflow-hidden",title:t.Attribute},(0,d.zw)(t.Number)+" - "+(0,d.zw)(t.Attribute.replace(" "," ")),9,E)))),256))])])}e(6229),e(7330),e(2062);var N={name:"Fixture",props:{name:String,filename:String,channels:Array},methods:{download(t,n){const e=document.createElement("a");e.href=t,e.download=n,document.body.appendChild(e),e.click(),document.body.removeChild(e)},async downloadFixture(t){try{const n=await fetch(`https://111821.selcdn.ru/mafixture/${t}`),e=new Blob([n],{type:"application/json"}),r=URL.createObjectURL(e);download(r,t),URL.revokeObjectURL(r)}catch{alert("download error"),console.error("download error")}}}};const G=(0,O.Z)(N,[["render",k],["__scopeId","data-v-61402d54"]]);var L=G;const P=t=>((0,o.dD)("data-v-052359fc"),t=t(),(0,o.Cn)(),t),S={class:"text-muted small mt-5 footer"},B=P((()=>(0,o._)("br",null,null,-1))),M=P((()=>(0,o._)("a",{href:"https://sysolyatin.com"},"Artem Sysolyatin",-1))),j=P((()=>(0,o._)("br",null,null,-1))),I=P((()=>(0,o._)("br",null,null,-1)));function U(t,n,e,r,s,i){return(0,o.wg)(),(0,o.iD)("div",S,[(0,o.Uk)(" All rights to the trademarks used belong to their respective owners."),B,(0,o.Uk)(" Created by "),M,(0,o.Uk)(" in Russia"),j,I,(0,o.Uk)(" Application version: "+(0,d.zw)(s.appVersion),1)])}var Y={i8:"1.1.0"},z={name:"Footer",data(){return{appVersion:Y.i8}}};const H=(0,O.Z)(z,[["render",U],["__scopeId","data-v-052359fc"]]);var Z=H,$={name:"App",components:{FilterPanel:F,Message:T,Fixture:L,Footer:Z},data(){return{message:"Select the number of channels in your fixture",channelsCount:0,allFixtures:[],fixtures:[],choosenAttributes:[]}},methods:{async changeChannelsCount(t){this.channelsCount=t;try{const n=await fetch(`/data/fixture_${t}_ch.json`);n.ok&&(this.allFixtures=await n.json()),n.ok||(this.allFixtures=[]),this.filterFixtures()}catch{this.allFixtures=[],this.filterFixtures()}},changeAttributes(t){this.choosenAttributes=t,this.filterFixtures()},getFoundCountText(){if(void 0===this.fixtures)return"Fixtures not found";let t=this.fixtures.length;return 0===t?"Fixtures not found":1===t?"Fixture found: 1":t>1?`Fixtures found: ${t}`:void 0},filterFixtures(){let t=[],n=this.choosenAttributes;this.allFixtures.forEach((function(e){let r=!0;e.Channels.forEach((function(t){void 0!==n[t.Number]&&"ANY"!==n[t.Number]&&n[t.Number]!==t.Attribute&&(r=!1)})),r&&t.push(e)})),this.fixtures=t,this.message=this.getFoundCountText()}}};const W=(0,O.Z)($,[["render",h]]);var K=W,V=e(65),X=(0,V.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,r.ri)(K).use(X).mount("#app")}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={exports:{}};return t[r].call(s.exports,s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(n,r,o,s){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],o=t[c][1],s=t[c][2];for(var a=!0,u=0;u<r.length;u++)(!1&s||i>=s)&&Object.keys(e.O).every((function(t){return e.O[t](r[u])}))?r.splice(u--,1):(a=!1,s<i&&(i=s));if(a){t.splice(c--,1);var l=o();void 0!==l&&(n=l)}}return n}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[r,o,s]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,r){var o,s,i=r[0],a=r[1],u=r[2],l=0;if(i.some((function(n){return 0!==t[n]}))){for(o in a)e.o(a,o)&&(e.m[o]=a[o]);if(u)var c=u(e)}for(n&&n(r);l<i.length;l++)s=i[l],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(c)},r=self["webpackChunkmafixture"]=self["webpackChunkmafixture"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(9038)}));r=e.O(r)})();
//# sourceMappingURL=app.d03845bb.js.map